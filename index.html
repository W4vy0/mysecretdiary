<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>My Secret Diary</title>

<style>
/* ===== ê¸°ë³¸ ë¦¬ì…‹ ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  background: #f6c1d9;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Comic Sans MS', 'Patrick Hand', cursive;
  overflow: hidden;
}

/* ===== ëª¨ë°”ì¼ ë¹„ìœ¨ ì»¨í…Œì´ë„ˆ ===== */
#app {
  width: 100%;
  max-width: 390px;
  aspect-ratio: 9 / 16;
  background: #ffd6e8;
  border-radius: 22px;
  position: relative;
  box-shadow: 0 20px 40px rgba(0,0,0,0.25);
  overflow: hidden;
}

/* ===== ê³µì±… ===== */
#diary {
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      #ffeaf3,
      #ffeaf3 28px,
      #f7b6cf 29px
    );
  padding: 40px 24px;
}

/* ===== íƒ€ì´í‹€ ===== */
#title {
  text-align: center;
  margin-top: 40px;
  font-size: 36px;
  letter-spacing: 2px;
}

#title span {
  display: inline-block;
  background: #fff;
  padding: 4px 10px;
  margin: 2px;
  transform: rotate(-2deg);
}

/* ===== ìë¬¼ì‡  ===== */
#lock {
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 56px;
  z-index: 3;
}

/* ===== ì—´ì‡  ===== */
#key {
  position: absolute;
  bottom: 12%;
  right: 12%;
  font-size: 44px;
  cursor: grab;
  z-index: 4;
  touch-action: none;
}

/* ===== ì—´ë¦¼ ì• ë‹ˆë©”ì´ì…˜ ===== */
.unlocked #lock {
  content: "ğŸ”“";
}

.unlocked #diary {
  animation: openDiary 0.8s ease forwards;
}

@keyframes openDiary {
  to {
    transform: translateY(-100%);
    opacity: 0;
  }
}

/* ===== ë‚´ë¶€ í˜ì´ì§€ ===== */
#inside {
  position: absolute;
  inset: 0;
  background: #fff0f7;
  display: none;
  padding: 32px;
}

.unlocked #inside {
  display: block;
}
</style>
</head>

<body>

<div id="app">
  <div id="diary">
    <div id="title">
      <span>MY</span>
      <span>Secret</span>
      <span>Diary</span>
    </div>

    <div id="lock">ğŸ”’</div>
    <div id="key">ğŸ”‘</div>
  </div>

  <div id="inside">
    <!-- ì—¬ê¸°ë¶€í„° ë‚´ë¶€ í˜ì´ì§€ (ë„¤ê°€ ììœ  í¸ì§‘) -->
  </div>
</div>

<!-- ğŸ”Š ìë¬¼ì‡  ì†Œë¦¬ -->
<audio id="unlockSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_9cbdc7c6a0.mp3"></audio>

<script>
const key = document.getElementById('key');
const lock = document.getElementById('lock');
const app = document.getElementById('app');
const sound = document.getElementById('unlockSound');

let dragging = false;

key.addEventListener('pointerdown', () => {
  dragging = true;
  key.setPointerCapture(event.pointerId);
});

document.addEventListener('pointermove', (e) => {
  if (!dragging) return;

  key.style.left = e.clientX - 20 + 'px';
  key.style.top = e.clientY - 20 + 'px';

  const keyRect = key.getBoundingClientRect();
  const lockRect = lock.getBoundingClientRect();

  if (
    keyRect.left < lockRect.right &&
    keyRect.right > lockRect.left &&
    keyRect.top < lockRect.bottom &&
    keyRect.bottom > lockRect.top
  ) {
    unlock();
  }
});

document.addEventListener('pointerup', () => {
  dragging = false;
});

function unlock() {
  if (app.classList.contains('unlocked')) return;
  app.classList.add('unlocked');
  sound.play();
}
</script>

</body>
</html>
